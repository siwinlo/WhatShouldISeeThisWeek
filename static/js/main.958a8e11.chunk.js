(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(t,e,n){},16:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(8),c=n.n(i),r=(n(15),n(16),n(2)),s=n(3),l=n(5),u=n(4),d=n(1),h=n(6),m=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={artist:void 0,title:void 0,venue:void 0,location:void 0,startDate:void 0,endDate:void 0,description:void 0,link:void 0,imageSrc:void 0,imageCaption:void 0,images:[]},n.fetchFirstPage=n.fetchFirstPage.bind(Object(d.a)(n)),n.componentDidMount=n.componentDidMount.bind(Object(d.a)(n)),n.componentDidUpdate=n.componentDidUpdate.bind(Object(d.a)(n)),n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"fetchFirstPage",value:function(){var t=this;fetch("https://qe8jl4jty7.execute-api.us-east-1.amazonaws.com/dev/?url="+encodeURIComponent(this.props.url)).then(function(t){return t.json()}).then(function(e){var n=e._embedded.location[0],a=n.images;t.setState({artist:n.title.split("\n")[0],title:n.title.split("\n")[1],venue:n.location.name,address:n.location.address,hours:n.location.hours,startDate:n.showStart.substring(0,10),endDate:n.showEnd.substring(0,10),dates:"".concat(n.showStart.substring(0,10)," to ").concat(n.showEnd.substring(0,10)),description:n.descriptionExtended,link:n.path,imageSrc:"https://artforum.com".concat(a[0].pathLarge),imageCaption:a[0].captionFormatted})})}},{key:"componentDidMount",value:function(){this.fetchFirstPage()}},{key:"componentDidUpdate",value:function(t){this.props!==t&&this.fetchFirstPage()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,this.state.artist),o.a.createElement("h2",null,this.state.title," "),o.a.createElement("h3",null," ",this.state.venue," "),o.a.createElement("p",null," ",this.state.address," "),o.a.createElement("p",null," ",this.state.hours," "),o.a.createElement("p",null,this.state.dates),o.a.createElement("blockquote",null," ",this.state.description," "),o.a.createElement("br",null),o.a.createElement("img",{src:this.state.imageSrc,alt:this.state.imageCaption})," ",o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("small",null,this.state.imageCaption)))}}]),e}(o.a.Component),p=function(t){function e(t){var n;return Object(r.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).state={randomUrl:void 0,showAbout:!1},n.componentDidMount=n.componentDidMount.bind(Object(d.a)(n)),n.constructRandomURL=n.constructRandomURL.bind(Object(d.a)(n)),n.fetchRandomPage=n.fetchRandomPage.bind(Object(d.a)(n)),n.toggleAbout=n.toggleAbout.bind(Object(d.a)(n)),n.about=o.a.createElement("div",{onClick:n.toggleAbout},o.a.createElement("blockquote",null," ","This is a project by ",o.a.createElement("a",{href:"https://siwinlo.github.io"},"Siwin Lo"),'. Want to see some art, but daunted by having to choose a "cool" or "smart" show? This app picks a random show for you to see, taking all such pressures off you. Enjoy.'," ")),n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.fetchRandomPage()}},{key:"fetchRandomPage",value:function(){var t=this;fetch("https://qe8jl4jty7.execute-api.us-east-1.amazonaws.com/dev/?url="+encodeURIComponent("https://www.artforum.com/api/guide/entities-by-place-location/new-york?category=all&page=1&size=1&fetchAll=0")).then(function(t){return t.json()}).then(function(e){var n=t.constructRandomURL(e.pages);t.setState({randomUrl:n})}),this.setState({showAbout:!1})}},{key:"constructRandomURL",value:function(t){return"https://www.artforum.com/api/guide/entities-by-place-location/new-york?category=all&page=".concat(Math.floor(Math.random()*t),"&size=1&fetchAll=0")}},{key:"toggleAbout",value:function(){this.setState({showAbout:!this.state.showAbout})}},{key:"render",value:function(){var t;return t=void 0===this.state.randomUrl?o.a.createElement("div",null,o.a.createElement("img",{src:"https://media.giphy.com/media/l3nWhI38IWDofyDrW/giphy.gif",id:"loading",alt:"loading"})):!0===this.state.showAbout?this.about:o.a.createElement(m,{url:this.state.randomUrl}),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement("h1",{id:"heading"},"What should I see this week?")),o.a.createElement("div",{id:"nav"},o.a.createElement("p",null,"An Art Exhibition Randomizer"),o.a.createElement("button",{id:"refreshDiv",onClick:this.fetchRandomPage},"Thank u, next!"),o.a.createElement("button",{onClick:this.toggleAbout},"About this project")),o.a.createElement("div",null," ",o.a.createElement("p",null),t," "))}}]),e}(o.a.Component);var b=function(){return o.a.createElement("div",null,o.a.createElement(p,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},9:function(t,e,n){t.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.958a8e11.chunk.js.map